<div class="row">
  <div class="col-md-12">
    <nb-card [nbSpinner]="loading" nbSpinnerStatus="info" nbSpinnerSize="giant">
      <nb-card-header class="puff_center">Cuenta Bancaria
        <button type="button" class="btn btn-outline-danger float-right" *ngIf="cuenta.id !== undefined"
          (click)="delete()">Borrar cuenta</button>
      </nb-card-header>

      <nb-card-body>

        <div class="alert alert-warning" *ngIf="errorMessages.length > 0" role="alert">
          <p *ngFor="let message of errorMessages">{{message}}</p>
        </div>
        <p class="alert alert-success" *ngIf="Params.success.length > 0" role="alert">{{Params.success}}</p>

        <div class="row slide_1" *ngIf="cuenta.id !== undefined">


          <div class="col-6">
            <label for="inputBanco" class="label">Banco</label>
            <select id="inputBanco" style="display:block;" class="form-control" [(ngModel)]="cuenta.banco" name="banco">
              <option value="*">Seleccionar</option>
              <option *ngFor="let bank of banksCat" [value]="bank.nombre">{{bank.nombre}}</option>
            </select>
          </div>
          <div class="col-6">
            <label for="inputempresa" class="label">RFC</label>
            <input id="inputempresa" class="form-control" fullWidth [disabled]="true" type="text"
              [(ngModel)]="cuenta.empresa" fullWidth placeholder="Numero de cuenta">
          </div>



        </div>
        <div class="row slide_1" *ngIf="cuenta.id === undefined">


          <div class="col-2">
            <label for="inputBanco" class="label">Banco</label>
            <select id="inputBanco" style="display:block;" class="form-control" [(ngModel)]="cuenta.banco" name="banco">
              <option value="*">Seleccionar</option>
              <option *ngFor="let bank of banksCat" [value]="bank.nombre">{{bank.nombre}}</option>
            </select>
          </div>
          <div class="col-md-2">
            <label for="inputEmisor" class="label">Línea Emisor</label>
            <select id="inputEmisor" fullWidth class="form-control" style="display:block;"
              (change)="onLineaSelection($event)" [(ngModel)]="formInfo.linea">
              <option value="A">Línea A</option>
              <option value="B">Línea B</option>
              <option value="C">Línea C</option>
            </select>
          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label for="inputGiro" class="label">Giro Empresa</label>
              <select id="inputGiro" fullWidth class="form-control" (change)="onGiroSelection($event.target.value)"
                style="display:block;" [(ngModel)]="formInfo.giro">
                <option value="*">Seleccionar</option>
                <option *ngFor="let giro of girosCat" [(value)]="giro.id">{{giro.nombre}}</option>
              </select>
            </div>
          </div>
          <div class="col-md-4">
            <label for="inputEmpresa" class="label">Empresa</label>
            <select id="inputEmpresa" class="form-control" (change)="onEmpresaSelected($event.target.value)"
              [(ngModel)]="filterParams.empresa" style="display:block;" fullWidth>
              <option value="">Seleccionar</option>
              <option *ngFor="let company of empresas" [(value)]="company.rfc">
                {{company.rfc}}-{{company.razonSocial}}
              </option>
            </select>
          </div>

        </div>
        
        <div class="row">
          <div class="col-4">
            <label for="cuenta" class="label">N° Cuenta</label>
            <input id="cuenta" class="form-control" fullWidth type="text" [(ngModel)]="cuenta.cuenta" fullWidth
              placeholder="Numero de cuenta">
          </div>
          <div class="col-4">
            <label for="clave" class="label">Clave</label>
            <input id="clave" class="form-control" fullWidth type="text" [(ngModel)]="cuenta.clabe" fullWidth
              placeholder="Clave Bancaria">
          </div>
            <div class="col-4">
              <label for="contract" class="label">Tipo de Contrato</label>
              <input id="contract" class="form-control" fullWidth type="text" [(ngModel)]="cuenta.tipoContrato" fullWidth>
            </div>
        </div>  

        <div class="row">
          <div class="col-5">
            <label for="location" class="label">Sucursal</label>
            <input id="location" class="form-control" fullWidth type="text" [(ngModel)]="cuenta.sucursal" fullWidth
              placeholder="Descripcion corta sucursal">
          </div>
          <div class="col-7">
            <label for="address" class="label">Domicilio</label>
            <input id="address" class="form-control" fullWidth type="text" [(ngModel)]="cuenta.domicilioBanco" fullWidth
              placeholder="Direccion de sucursal - opcional">
          </div>
        </div>
        

        <br>

        <div class="float-right slide_2">

          <button class="btn btn-primary" *ngIf="cuenta.id === undefined" [disabled]="this.Params.success !== ''"
            (click)="registry()"> Registrar</button>
          <button class="btn btn-primary" *ngIf="cuenta.id !== undefined"
            [disabled]="this.actualizando == true || this.clear == true" [nbSpinner]="this.loading"
            nbSpinnerStatus="info" (click)="update()"> Actualizar</button>

        </div>


      </nb-card-body>

    </nb-card>


  </div>
</div>